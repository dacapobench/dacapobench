diff -ur ./build.gradle ../build/build.gradle
--- ./build.gradle	2021-04-29 14:10:04.000000000 +1000
+++ ../build/build.gradle	2021-04-29 15:45:41.349834432 +1000
@@ -115,33 +115,10 @@
     into "$buildDir/libDist/lib-ext" //buildDir.path + '/' + libsDirName + '/lib'
 }
 
-task dist(dependsOn: [':jme3-examples:dist', 'mergedJavadoc']){
+task dist(dependsOn: [':jme3-examples:dist']){
     description 'Creates a jME3 examples distribution with all jme3 binaries, sources, javadoc and external libraries under ./dist'
 }
 
-task mergedJavadoc(type: Javadoc, description: 'Creates Javadoc from all the projects.') {
-    title = 'jMonkeyEngine3'
-    destinationDir = mkdir("dist/javadoc")
-
-    options.encoding = 'UTF-8'
-
-    // Allows Javadoc to be generated on Java 8 despite doclint errors.
-    if (JavaVersion.current().isJava8Compatible()) {
-        options.addStringOption('Xdoclint:none', '-quiet')
-    }
-
-    options.overview = file("javadoc-overview.html")
-    // Note: The closures below are executed lazily.
-    source subprojects.collect {project ->
-        project.sourceSets.main.allJava // main only, exclude tests
-    }
-    classpath = files(subprojects.collect {project ->
-            project.sourceSets*.compileClasspath})
-    classpath.from {
-        subprojects*.configurations*.compile*.copyRecursive({ !(it instanceof ProjectDependency); })*.resolve()
-    }
-}
-
 clean.dependsOn('cleanMergedJavadoc')
 task cleanMergedJavadoc(type: Delete) {
     delete file('dist/javadoc')
diff -ur ./jme3-core/src/main/java/com/jme3/app/LegacyApplication.java ../build/jme3-core/src/main/java/com/jme3/app/LegacyApplication.java
--- ./jme3-core/src/main/java/com/jme3/app/LegacyApplication.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-core/src/main/java/com/jme3/app/LegacyApplication.java	2021-04-29 15:44:19.633692625 +1000
@@ -463,7 +463,7 @@
      * @param contextType the type of context to create
      */
     public void start(JmeContext.Type contextType) {
-        start(contextType, false);
+        start(contextType, true);
     }
 
     /**
diff -ur ./jme3-core/src/main/java/com/jme3/app/SimpleApplication.java ../build/jme3-core/src/main/java/com/jme3/app/SimpleApplication.java
--- ./jme3-core/src/main/java/com/jme3/app/SimpleApplication.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-core/src/main/java/com/jme3/app/SimpleApplication.java	2021-04-29 16:33:58.875567011 +1000
@@ -47,7 +47,14 @@
 import com.jme3.scene.Spatial.CullHint;
 import com.jme3.system.AppSettings;
 import com.jme3.system.JmeContext.Type;
+
 import com.jme3.system.JmeSystem;
+import com.jme3.system.NanoTimer;
+
+import java.util.Random;
+import java.io.FileWriter;
+import java.lang.reflect.Method;
+import java.lang.reflect.InvocationTargetException;
 
 /**
  * <code>SimpleApplication</code> is the base class for all jME3 Applications.
@@ -70,6 +77,9 @@
     public static final String INPUT_MAPPING_MEMORY = DebugKeysAppState.INPUT_MAPPING_MEMORY;
     public static final String INPUT_MAPPING_HIDE_STATS = "SIMPLEAPP_HideStats";
 
+    Method dacapoStart;
+    Method dacapoEnd;
+
     protected Node rootNode = new Node("Root Node");
     protected Node guiNode = new Node("Gui Node");
     protected BitmapText fpsText;
@@ -77,6 +87,8 @@
     protected FlyByCamera flyCam;
     protected boolean showSettings = true;
     final private AppActionListener actionListener = new AppActionListener();
+    private Random random = new Random(0);
+    private final int framesToRender = Integer.parseInt(System.getProperty("framesToRender"));
 
     private class AppActionListener implements ActionListener {
 
@@ -103,6 +115,15 @@
 
     public SimpleApplication( AppState... initialStates ) {
         super(initialStates);
+        try {
+            Class<?> clazz = Class.forName("org.dacapo.harness.LatencyReporter", true, SimpleApplication.class.getClassLoader());
+            dacapoStart = clazz.getMethod("start", int.class);
+            dacapoEnd = clazz.getMethod("end", int.class);
+        } catch (ClassNotFoundException e) {
+            System.err.println("Failed to access DaCapo latency reporter: "+e);
+        } catch (NoSuchMethodException e) {
+            System.err.println("Failed trying to create latency stats: "+e);
+        }
     }
 
     @Override
@@ -123,6 +144,7 @@
         }
         //re-setting settings they can have been merged from the registry.
         setSettings(settings);
+        System.out.println("Starting...");
         super.start();
     }
         
@@ -240,11 +262,32 @@
         simpleInitApp();
     }
 
+    public void dacapoStart() {
+        try {
+            dacapoStart.invoke(null, 0);  // only one reporter object
+        } catch (IllegalAccessException e) {
+            System.err.println("Failed to access DaCapo latency reporter: "+e);
+        } catch (InvocationTargetException e) {
+            System.err.println("Failed to access DaCapo latency reporter: "+e);
+        }
+    }
+
+    public void dacapoEnd() {
+        try {
+            dacapoEnd.invoke(null, 0);  // only one reporter object
+        } catch (IllegalAccessException e) {
+            System.err.println("Failed to access DaCapo latency reporter: "+e);
+        } catch (InvocationTargetException e) {
+            System.err.println("Failed to access DaCapo latency reporter: "+e);
+        }
+    }
+
     @Override
     public void update() {
         if (prof!=null) prof.appStep(AppStep.BeginFrame);
 
         super.update(); // makes sure to execute AppTasks
+
         if (speed == 0 || paused) {
             return;
         }
@@ -256,7 +299,8 @@
         stateManager.update(tpf);
 
         // simple update and root node
-        simpleUpdate(tpf);
+        // simpleUpdate(tpf);
+        dacapoUpdate();
 
         if (prof!=null) prof.appStep(AppStep.SpatialUpdate);
         rootNode.updateLogicalState(tpf);
@@ -291,6 +335,29 @@
 
     public abstract void simpleInitApp();
 
+    private void dacapoUpdate() {
+        dacapoEnd();
+
+        int frameCount = ((NanoTimer) timer).getFrameCount();
+        int tenPercent = framesToRender / 10;
+        if (frameCount % tenPercent == 0) {
+            System.out.print("\r"+(frameCount / tenPercent)+"0%");
+        }
+        if (frameCount == framesToRender) {
+            /* we're done; terminate */
+            synchronized (context){
+                System.out.println();
+                System.out.println("Rendered "+frameCount+" frames for "+this.getClass().getSimpleName());
+                context.notify();
+                this.stop();
+            }            
+        } else {
+            /* update camera for the next frame, using seeded random number */
+            dacapoStart();
+            cam.setLocation(cam.getLocation().setY(cam.getLocation().getY()+ (random.nextFloat()-0.5f) * 3));
+        }
+    }
+
     public void simpleUpdate(float tpf) {
     }
 
diff -ur ./jme3-core/src/main/java/com/jme3/system/AppSettings.java ../build/jme3-core/src/main/java/com/jme3/system/AppSettings.java
--- ./jme3-core/src/main/java/com/jme3/system/AppSettings.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-core/src/main/java/com/jme3/system/AppSettings.java	2021-04-29 15:44:19.633692625 +1000
@@ -266,8 +266,8 @@
     public static final String JOAL = "JOAL";
 
     static {
-        defaults.put("Width", 640);
-        defaults.put("Height", 480);
+        defaults.put("Width", 1920);
+        defaults.put("Height", 1080);
         defaults.put("BitsPerPixel", 24);
         defaults.put("Frequency", 60);
         defaults.put("DepthBits", 24);
diff -ur ./jme3-core/src/main/java/com/jme3/system/NanoTimer.java ../build/jme3-core/src/main/java/com/jme3/system/NanoTimer.java
--- ./jme3-core/src/main/java/com/jme3/system/NanoTimer.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-core/src/main/java/com/jme3/system/NanoTimer.java	2021-04-29 16:35:08.399554029 +1000
@@ -46,6 +46,7 @@
     private long previousTime;
     private float tpf;
     private float fps;
+    private int frameCount;
     
     public NanoTimer() {
         startTime = System.nanoTime();
@@ -82,11 +83,16 @@
         return tpf;
     }
 
+    public int getFrameCount() {
+        return frameCount;
+    }
+
     @Override
     public void update() {
         tpf = (getTime() - previousTime) * (1.0f / TIMER_RESOLUTION);
         fps = 1.0f / tpf;
         previousTime = getTime();
+        frameCount++;
     }
     
     @Override
diff -ur ./jme3-examples/build.gradle ../build/jme3-examples/build.gradle
--- ./jme3-examples/build.gradle	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-examples/build.gradle	2021-04-29 16:36:18.687550462 +1000
@@ -4,6 +4,7 @@
     ext.mainClass = 'jme3test.TestChooser'
 }
 
+
 task run(dependsOn: 'build', type:JavaExec) {
     main = mainClass
     classpath = sourceSets.main.runtimeClasspath
@@ -23,8 +24,8 @@
     compile project(':jme3-effects')
     compile project(':jme3-jbullet')
     compile project(':jme3-jogg')
-    compile project(':jme3-lwjgl')
-//    compile project(':jme3-lwjgl3')
+//    compile project(':jme3-lwjgl')
+    compile project(':jme3-lwjgl3')
     compile project(':jme3-networking')
     compile project(':jme3-niftygui')
     compile project(':jme3-plugins')
diff -ur ./jme3-examples/src/main/java/jme3test/TestChooser.java ../build/jme3-examples/src/main/java/jme3test/TestChooser.java
--- ./jme3-examples/src/main/java/jme3test/TestChooser.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-examples/src/main/java/jme3test/TestChooser.java	2021-04-29 16:54:18.652110832 +1000
@@ -48,26 +48,21 @@
 import java.net.URL;
 import java.net.URLConnection;
 import java.net.URLDecoder;
-import java.util.Collection;
-import java.util.Enumeration;
-import java.util.Vector;
+import java.util.*;
 import java.util.jar.JarFile;
 import java.util.logging.Level;
 import java.util.logging.Logger;
 import java.util.zip.ZipEntry;
 import javax.swing.*;
-import javax.swing.border.EmptyBorder;
 import javax.swing.event.DocumentEvent;
 import javax.swing.event.DocumentListener;
-import javax.swing.event.ListSelectionEvent;
-import javax.swing.event.ListSelectionListener;
 
 
 /**
  * Class with a main method that displays a dialog to choose any jME demo to be
  * started.
  */
-public class TestChooser extends JDialog {
+public class TestChooser{
     private static final Logger logger = Logger.getLogger(TestChooser.class
             .getName());
 
@@ -77,17 +72,18 @@
      * Only accessed from EDT
      */
     private java.util.List selectedClass = null;
-    private boolean showSetting = true;
+    private static boolean showSetting = false;
 
     /**
      * Constructs a new TestChooser that is initially invisible.
      */
     public TestChooser() throws HeadlessException {
-        super((JFrame) null, "TestChooser");
+        // We do not need this for headless mode testing
+        //        super((JFrame) null, "TestChooser");
         /** This listener ends application when window is closed (x button on top right corner of test chooser).
          * @see issue#85 https://github.com/jMonkeyEngine/jmonkeyengine/issues/85
          */
-        setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
+        //        setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
     }
 
     /**
@@ -106,7 +102,6 @@
             name = "/" + name;
         }
         name = name.replace('.', '/');
-
         // Get a File object for the package
         // URL url = UPBClassLoader.get().getResource(name);
         url = this.getClass().getResource(name);
@@ -242,39 +237,24 @@
 
     private void startApp(final java.util.List appClass){
         if (appClass == null){
-            JOptionPane.showMessageDialog(rootPane,
-                                          "Please select a test from the list",
-                                          "Error", 
-                                          JOptionPane.ERROR_MESSAGE);
+            System.err.println("Error: Please select a test from the list");
             return;
-        }
-
-            new Thread(new Runnable(){
+        } else {
+            Thread t = new Thread(new Runnable(){
                 @Override
                 public void run(){
                     for (int i = 0; i < appClass.size(); i++) {
                         Class<?> clazz = (Class)appClass.get(i);
                         try {
-                            if (LegacyApplication.class.isAssignableFrom(clazz)) {
-                                Object app = clazz.newInstance();
-                                if (app instanceof SimpleApplication) {
-                                    final Method settingMethod = clazz.getMethod("setShowSettings", boolean.class);
-                                    settingMethod.invoke(app, showSetting);
-                                }
-                                final Method mainMethod = clazz.getMethod("start");
-                                mainMethod.invoke(app);
+                            if (LegacyApplication.class.isAssignableFrom(clazz) && !clazz.getName().equals("TestMultiplesFilters")) {
+                                Object app = clazz.getConstructor().newInstance();
+                                final Method mainMethod = clazz.getMethod("start", JmeContext.Type.class);
+                                mainMethod.invoke(app, JmeContext.Type.Headless);
                                 Field contextField = LegacyApplication.class.getDeclaredField("context");
                                 contextField.setAccessible(true);
-                                JmeContext context = null; 
-                                while (context == null) {
-                                    context = (JmeContext) contextField.get(app);
-                                    Thread.sleep(100);
-                                }
-                                while (!context.isCreated()) {
-                                    Thread.sleep(100);
-                                }
-                                while (context.isCreated()) {
-                                    Thread.sleep(100);
+                                JmeContext context = (JmeContext) contextField.get(app);
+                                synchronized(context) {
+                                    context.wait();
                                 }
                             } else {
                                 final Method mainMethod = clazz.getMethod("main", (new String[0]).getClass());
@@ -298,85 +278,14 @@
                         }
                     }
                 }
-            }).start();
-    }
-
-    /**
-     * Code to create components and action listeners.
-     *
-     * @param classes
-     *            what Classes to show in the list box
-     */
-    private void setup(Vector<Class> classes) {
-        final JPanel mainPanel = new JPanel();
-        mainPanel.setLayout(new BorderLayout());
-        getContentPane().setLayout(new BorderLayout());
-        getContentPane().add(mainPanel, BorderLayout.CENTER);
-        mainPanel.setBorder(new EmptyBorder(10, 10, 10, 10));
-
-        final FilteredJList list = new FilteredJList();
-        list.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);
-        DefaultListModel<Class> model = new DefaultListModel<>();
-        for (Class c : classes) {
-            model.addElement(c);
-        }
-        list.setModel(model);
-
-        mainPanel.add(createSearchPanel(list), BorderLayout.NORTH);
-        mainPanel.add(new JScrollPane(list), BorderLayout.CENTER);
-
-        list.getSelectionModel().addListSelectionListener(
-                new ListSelectionListener() {
-                    @Override
-                    public void valueChanged(ListSelectionEvent e) {
-                        selectedClass = list.getSelectedValuesList();
-                    }
-                });
-        list.addMouseListener(new MouseAdapter() {
-            @Override
-            public void mouseClicked(MouseEvent e) {
-                if (e.getClickCount() == 2 && selectedClass != null) {
-                    startApp(selectedClass);
-                }
-            }
-        });
-        list.addKeyListener(new KeyAdapter() {
-            @Override
-            public void keyTyped(KeyEvent e) {
-                if (e.getKeyCode() == KeyEvent.VK_ENTER) {
-                    startApp(selectedClass);
-                } else if (e.getKeyCode() == KeyEvent.VK_ESCAPE) {
-                    dispose();
-                }
-            }
-        });
-
-        final JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));
-        mainPanel.add(buttonPanel, BorderLayout.PAGE_END);
-
-        final JButton okButton = new JButton("Ok");
-        okButton.setMnemonic('O');
-        buttonPanel.add(okButton);
-        getRootPane().setDefaultButton(okButton);
-        okButton.addActionListener(new ActionListener() {
-            @Override
-            public void actionPerformed(ActionEvent e) {
-                startApp(selectedClass);
-            }
-        });
-
-        final JButton cancelButton = new JButton("Cancel");
-        cancelButton.setMnemonic('C');
-        buttonPanel.add(cancelButton);
-        cancelButton.addActionListener(new ActionListener() {
-            @Override
-            public void actionPerformed(ActionEvent e) {
-                dispose();
+            });
+            t.start();
+            try {
+                t.join();
+            } catch (InterruptedException e) {
+                e.printStackTrace();
             }
-        });
-
-        pack();
-        center();
+        }
     }
 
     private class FilteredJList extends JList {
@@ -424,22 +333,6 @@
     }
 
     /**
-     * center the frame.
-     */
-    private void center() {
-        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
-        Dimension frameSize = this.getSize();
-        if (frameSize.height > screenSize.height) {
-            frameSize.height = screenSize.height;
-        }
-        if (frameSize.width > screenSize.width) {
-            frameSize.width = screenSize.width;
-        }
-        this.setLocation((screenSize.width - frameSize.width) / 2,
-                (screenSize.height - frameSize.height) / 2);
-    }
-
-    /**
      * Start the chooser.
      *
      * @param args
@@ -450,16 +343,24 @@
             UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
         } catch (Exception e) {
         }
-        new TestChooser().start(args);
-    }
-
-    protected void start(String[] args) {
         final Vector<Class> classes = new Vector<>();
-        logger.fine("Composing Test list...");
-        addDisplayedClasses(classes);
-        setup(classes);
-        Class<?> cls;
-        setVisible(true);
+        TestChooser tc = new TestChooser();
+        tc.addDisplayedClasses(classes);
+        Iterator<Class> i = classes.iterator();
+        while (i.hasNext()){
+            String name = i.next().getName();
+            if (!contains(args, name))
+                i.remove();
+        }
+        tc.startApp(classes);
+    }
+
+    private static boolean contains(String[] args, String name){
+        for (String packageName : args){
+            if (name.contains(packageName))
+                return true;
+        }
+        return false;
     }
 
     protected void addDisplayedClasses(Vector<Class> classes) {
diff -ur ./jme3-examples/src/main/java/jme3test/water/TestMultiPostWater.java ../build/jme3-examples/src/main/java/jme3test/water/TestMultiPostWater.java
--- ./jme3-examples/src/main/java/jme3test/water/TestMultiPostWater.java	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-examples/src/main/java/jme3test/water/TestMultiPostWater.java	2021-04-29 16:39:57.775588637 +1000
@@ -44,6 +44,7 @@
 import com.jme3.scene.Node;
 import com.jme3.scene.Spatial;
 import com.jme3.system.AppSettings;
+import com.jme3.system.JmeContext;
 import com.jme3.terrain.geomipmap.TerrainQuad;
 import com.jme3.terrain.heightmap.AbstractHeightMap;
 import com.jme3.terrain.heightmap.ImageBasedHeightMap;
@@ -70,15 +71,14 @@
         TestMultiPostWater app = new TestMultiPostWater();
         AppSettings s = new AppSettings(true);
         s.setRenderer(AppSettings.LWJGL_OPENGL2);
-        s.setAudioRenderer(AppSettings.LWJGL_OPENAL);
         app.setSettings(s);
 
-        app.start();
+        app.start(JmeContext.Type.Headless);
     }
 
     @Override
     public void simpleInitApp() {
-
+        System.out.print("Initializing...");
 //      setDisplayFps(false);
 //      setDisplayStatView(false);
 
@@ -156,6 +156,9 @@
         fpp.addFilter(water3);
 
         viewPort.addProcessor(fpp);
+        System.out.println("...done.");
+
+        dacapoStart();
 
         //fpp.setNumSamples(4);
     }
@@ -212,5 +215,6 @@
 
     @Override
     public void simpleUpdate(float tpf) {
+        super.simpleUpdate(tpf);
     }
 }
diff -ur ./jme3-networking/build.gradle ../build/jme3-networking/build.gradle
--- ./jme3-networking/build.gradle	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-networking/build.gradle	2021-04-29 15:44:19.637692630 +1000
@@ -4,6 +4,7 @@
 
 dependencies {
     compile project(':jme3-core')
+    compile 'com.sun.xml.ws:jaxws-ri:2.3.2'
 }
 
 javadoc {
diff -ur ./jme3-plugins/build.gradle ../build/jme3-plugins/build.gradle
--- ./jme3-plugins/build.gradle	2021-04-29 14:10:04.000000000 +1000
+++ ../build/jme3-plugins/build.gradle	2021-04-29 15:44:19.637692630 +1000
@@ -17,4 +17,8 @@
     compile project(':jme3-core')
     compile 'com.google.code.gson:gson:2.8.1'
     testCompile project(':jme3-desktop')
+    compile 'javax.xml.bind:jaxb-api:2.3.0'
+    compile 'javax.xml.bind:jaxb-api:2.3.0'
+    compile 'com.sun.xml.bind:jaxb-core:2.3.0'
+    compile 'com.sun.xml.bind:jaxb-impl:2.3.0'
 }
