includes:
  - "$RUNNING_NG_PACKAGE_DATA/base/runbms.yml"
  - "$RUNNING_NG_PACKAGE_DATA/base/temurin.yml"

overrides:
  "remote_host": null

suites:
  dacapo-chopin-mr1:
    type: DaCapo
    release: evaluation
    path: /home/steveb/devel/dacapobench/benchmarks/dacapo-evaluation-git-cb0048d8.jar
    timing_iteration: 10
    timeout: 1800
    minheap: min
    minheap_values:
      min:
        avrora: 5
        batik: 175
        biojava: 93
        cassandra: 177
        eclipse: 135
        fop: 13
        graphchi: 175
        h2: 681
        h2o: 79
        jme: 29
        jython: 25
        kafka: 197
        luindex: 29
        lusearch: 19
        pmd: 192
        spring: 58
        sunflow: 29
        tomcat: 21
        tradebeans: 135
        tradesoap: 93
        xalan: 13
        zxing: 250

benchmarks:
  dacapo-chopin-mr1:
    - avrora
    - batik
    - biojava
    - cassandra
    - eclipse
    - fop
    - graphchi
    - h2
    - h2o
    - jme
    - jython
    - kafka
    - luindex
    - lusearch
    - pmd
    - spring
    - sunflow
    - tomcat
    - tradebeans
    - tradesoap
    - xalan
    - zxing

plugins:
  collect_gclog:
    type: CopyFile
    patterns:
      - "gc.log"

modifiers:
  t:
    type: ProgramArg
    val: "-t {0}"
  f:
    type: ProgramArg
    val: "-f {0}"
  gc:
    type: JVMArg
    val: "-XX:+Use{0}GC"
  cp:
    type: JVMArg
    val: "-XX:+UseCompressedOops"
  up:
    type: JVMArg
    val: "-XX:-UseCompressedOops"
  taskset:
    type: Wrapper
    val: taskset -c {0}
  gclog:
    type: JVMArg
    val: "-Xlog:gc:file=gc.log" 
    jdk21:
    type: ModifierSet
    val: "jdk17|jdk21_h2o"
  jdk21_h2o:
    type: JVMArg
    val: "-Dsys.ai.h2o.debug.allowJavaVersions=21"
    includes:
      dacapo-chopin-mr1:
        - h2o
  jdk17:
    type: ModifierSet
    val: "jdk11|jdk17_cassandra"
  jdk17_cassandra:
    type: JVMArg
    val: "-Djava.security.manager=allow"
    includes:
      dacapo-chopin-mr1:
        - cassandra
  jdk11:
    type: ModifierSet
    val: "jdk8"
  jdk8:
    type: ModifierSet
    val: "ee|s|f-10"
